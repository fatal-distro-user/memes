<script>
  const shownMemes = new Set();

  async function loadMeme() {
    let tries = 0;
    let data;

    while (tries < 10) {
      const response = await fetch('https://meme-api.com/gimme');
      data = await response.json();

      // Prüfe, ob das Meme jugendfrei ist und ob es schon angezeigt wurde
      if (!data.nsfw && !shownMemes.has(data.url)) {
        shownMemes.add(data.url);
        document.getElementById('memeImage').src = data.url;
        return;
      }

      tries++;
    }

    alert("Keine neuen jugendfreien Memes gefunden. Bitte versuche es später nochmal.");
  }

  loadMeme();
</script>
